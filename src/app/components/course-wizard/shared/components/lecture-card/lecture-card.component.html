<div class="lecture-card border rounded-3 p-3 mb-3 bg-white shadow-sm hover-shadow transition-all">
    <div class="d-flex justify-content-between align-items-center mb-2">
        <div class="d-flex align-items-center gap-2">
            <div class="icon-circle bg-primary-subtle text-primary">
                <i class="fas fa-play fa-sm"></i>
            </div>
            <div>
                <strong class="text-dark">{{ lecture.title || 'Untitled Lecture' }}</strong>
                <span *ngIf="lecture.freePreview" class="badge bg-warning text-dark ms-2 rounded-pill px-2 py-1"
                    style="font-size: 0.7rem;">Free Preview</span>
            </div>
        </div>
        <div class="text-muted small fw-bold font-monospace bg-light rounded px-2 py-1">
            {{ lecture.duration ? (lecture.duration | secondsToTime) : '--:--' }}
        </div>
    </div>

    <p class="mb-3 ps-5 text-muted small" *ngIf="lecture.description">{{ lecture.description }}</p>

    <div *ngIf="lecture.notes" class="mb-3 ps-5">
        <div class="alert alert-light border-start border-4 border-info">
            <div class="fw-bold mb-1 small text-info text-uppercase"><i class="fas fa-sticky-note me-1"></i> Notes</div>
            <div [innerHTML]="sanitizeHTML(lecture.notes)" class="small text-dark"></div>
        </div>
    </div>

    <div class="ps-5">
        <materials-list [materials]="lecture.materials || []"></materials-list>
    </div>
</div>