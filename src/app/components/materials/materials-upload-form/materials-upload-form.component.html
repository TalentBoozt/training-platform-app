<div class="materials-form">
  <form [formGroup]="materialsForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
    <div class="form-row">
      <label for="name">Material Name</label>
      <input type="text" id="name" formControlName="name" required />
    </div>

    <div class="form-row">
      <label for="type">Material Type</label>
      <select id="type" formControlName="type" required>
        <option value="pdf">PDF</option>
        <option value="doc">DOC</option>
        <option value="pptx">PPT(presentation)</option>
        <option value="excel">Excel/CSV</option>
        <option value="txt">TXT</option>
        <option value="image">Image</option>
        <option value="video" disabled>Video</option>
        <option value="other">Other</option>
      </select>
    </div>

    <div class="form-row">
      <label for="category">Category</label>
      <select id="category" formControlName="category" required>
        <option value="book">Book</option>
        <option value="slide">Slide</option>
        <option value="note">Note</option>
        <option value="assignment">Assignment</option>
        <option value="quiz">Quiz</option>
        <option value="video" disabled>Video</option>
        <option value="recording" disabled>Recording</option>
        <option value="other">Other</option>
      </select>
    </div>

    <div class="form-row toggle-upload">
      <label>
        <input type="radio" formControlName="uploadOption" value="url" /> Use URL
      </label>
      <label>
        <input type="radio" formControlName="uploadOption" value="file" /> Upload File
      </label>
    </div>

    <div class="form-row" *ngIf="materialsForm.value.uploadOption === 'url'">
      <label for="url">File URL</label>
      <input type="url" id="url" formControlName="url" />
    </div>

    <div class="form-row" *ngIf="materialsForm.value.uploadOption === 'file'">
      <label for="file">Upload File</label>
      <input type="file" id="file" (change)="onFileChange($event)" />
    </div>

    <div class="d-flex align-items-center gap-2">
      <button class="btn" type="submit" [disabled]="materialsForm.invalid || uploading">{{uploading ? 'Uploading...' : editMaterial ? 'Update' : 'Upload'}}</button>
      <button class="btn-outline btn-o-2" type="reset" *ngIf="editMaterial" (click)="onReset()">Cancel</button>
    </div>
  </form>
</div>
