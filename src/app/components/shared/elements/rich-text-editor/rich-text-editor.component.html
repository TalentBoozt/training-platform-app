<div class="rich-text-editor-container">
  <div class="rte-header">
    <h5 class="rte-title">{{title || 'Rich Text Editor'}}</h5>
    <button type="button" class="btn-fill btn-f-2 save-btn" (click)="saveContent()" [class.pulsing]="contentModified">
      <span class="save-icon">ðŸ’¾</span> Save
    </button>
  </div>

  <div class="toolbar">
    <div class="toolbar-group">
      <select [value]="currentFontFamily" (change)="applyFontFamily($event)" title="Font Family" class="toolbar-select">
        <option *ngFor="let font of fontFamilies" [value]="font.value">{{font.label}}</option>
      </select>
      <button
        type="button"
        (click)="applyStyle('bold')"
        [class.active]="isActive('bold')"
        title="Bold (Ctrl+B)"
        class="toolbar-btn">
        <b>B</b>
      </button>
      <button
        type="button"
        (click)="applyStyle('italic')"
        [class.active]="isActive('italic')"
        title="Italic (Ctrl+I)"
        class="toolbar-btn">
        <i>I</i>
      </button>
      <button
        type="button"
        (click)="applyStyle('underline')"
        [class.active]="isActive('underline')"
        title="Underline (Ctrl+U)"
        class="toolbar-btn">
        <u>U</u>
      </button>
    </div>

    <div class="toolbar-divider"></div>

    <div class="toolbar-group">
      <button
        type="button"
        (click)="insertList(false)"
        title="Bullet List"
        class="toolbar-btn">
        <span class="icon">â€¢</span>
      </button>
      <button
        type="button"
        (click)="insertList(true)"
        title="Numbered List"
        class="toolbar-btn">
        <span class="icon">1.</span>
      </button>
    </div>

    <div class="toolbar-divider"></div>

    <div class="toolbar-group">
      <button
        type="button"
        (click)="applyAlignment('left')"
        [class.active]="isActive('alignLeft')"
        title="Align Left"
        class="toolbar-btn">
        <span class="icon">â˜°</span>
      </button>
      <button
        type="button"
        (click)="applyAlignment('center')"
        [class.active]="isActive('alignCenter')"
        title="Align Center"
        class="toolbar-btn">
        <span class="icon">â‰¡</span>
      </button>
      <button
        type="button"
        (click)="applyAlignment('right')"
        [class.active]="isActive('alignRight')"
        title="Align Right"
        class="toolbar-btn">
        <span class="icon">â˜°</span>
      </button>
    </div>

    <div class="toolbar-divider"></div>

    <div class="toolbar-group">
      <div class="select-wrapper">
        <select
          [value]="currentFontSize"
          (change)="applyFontSize($event)"
          title="Font Size"
          class="toolbar-select">
          <option *ngFor="let size of fontSizes" [value]="size.value">{{size.label}}</option>
        </select>
      </div>

      <div class="color-picker-wrapper">
        <span class="color-preview" [style.background-color]="currentColor"></span>
        <input
          type="color"
          [value]="currentColor"
          (change)="applyColor($event)"
          (mouseover)="showTooltip($event, 'We recommend not change automatic colors because it will effects to different color themes')"
          (mouseleave)="hideTooltip()"
          title="Text Color"
          class="toolbar-color" />
      </div>

      <button
        type="button"
        (click)="insertLink()"
        title="Insert Link"
        class="toolbar-btn">
        <span class="icon">ðŸ”—</span>
      </button>
    </div>

    <div class="toolbar-divider"></div>

    <div class="toolbar-group">
      <button
        type="button"
        (click)="undo()"
        title="Undo (Ctrl+Z)"
        class="toolbar-btn">
        <span class="icon">â†©</span>
      </button>
      <button
        type="button"
        (click)="redo()"
        title="Redo (Ctrl+Y or Ctrl+Shift+Z)"
        class="toolbar-btn">
        <span class="icon">â†ª</span>
      </button>
    </div>
  </div>

  <div
    #editor
    contenteditable="true"
    class="editor"
    aria-label="Rich text content"
    tabindex="0">
  </div>
</div>
